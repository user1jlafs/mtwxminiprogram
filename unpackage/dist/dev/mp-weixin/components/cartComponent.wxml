<view class="cart-component"><view class="{{['cart-drawer',(isCartOpen)?'active':'']}}"><view class="drawer-header"><text class="drawer-title">已选商品</text><view data-event-opts="{{[['tap',[['toggleSelectAll',['$event']]]]]}}" class="select-all" bindtap="__e"><uni-icons vue-id="74b12534-1" type="{{isAllSelected?'checkbox-filled':'circle'}}" size="18" color="{{isAllSelected?'#8B5A2B':'#ccc'}}" bind:__l="__l"></uni-icons><text>全选</text></view><view data-event-opts="{{[['tap',[['clearCartItems',['$event']]]]]}}" class="clear-btn" bindtap="__e"><uni-icons vue-id="74b12534-2" type="trash" size="18" color="#999" bind:__l="__l"></uni-icons><text>清空</text></view></view><scroll-view class="cart-items" scroll-y="{{true}}"><block wx:if="{{$root.g0===0}}"><view class="empty-cart"><uni-icons vue-id="74b12534-3" type="cart" size="50" color="#DDDDDD" bind:__l="__l"></uni-icons><text>购物车是空的</text><text class="empty-cart-tip">快去选购喜欢的奶茶吧~</text></view></block><block wx:else><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cart-item"><view data-event-opts="{{[['tap',[['toggleItemSelect',['$0',!item.$orig.selected],[[['cartItems','',index,'id']]]]]]]}}" class="item-select" bindtap="__e"><uni-icons vue-id="{{'74b12534-4-'+index}}" type="{{item.$orig.selected?'checkbox-filled':'circle'}}" size="20" color="{{item.$orig.selected?'#8B5A2B':'#ccc'}}" bind:__l="__l"></uni-icons></view><image class="item-image" src="{{item.$orig.image}}" mode="aspectFill"></image><view class="item-info"><text class="item-name">{{item.$orig.name}}</text><block wx:if="{{item.$orig.specs}}"><text class="item-specs">{{item.m0}}</text></block><view class="item-price-box"><text class="item-price">{{"¥"+item.$orig.price}}</text></view></view><view class="quantity-control"><view data-event-opts="{{[['tap',[['decreaseQuantity',[index]]]]]}}" class="quantity-btn minus" bindtap="__e"><uni-icons vue-id="{{'74b12534-5-'+index}}" type="minus" size="16" color="#8B5A2B" bind:__l="__l"></uni-icons></view><text class="quantity-text">{{item.$orig.quantity}}</text><view data-event-opts="{{[['tap',[['increaseQuantity',[index]]]]]}}" class="quantity-btn plus" bindtap="__e"><uni-icons vue-id="{{'74b12534-6-'+index}}" type="plus" size="16" color="#FFFFFF" bind:__l="__l"></uni-icons></view></view></view></block></block></scroll-view></view><block wx:if="{{isCartOpen}}"><view data-event-opts="{{[['tap',[['toggleCart',['$event']]]]]}}" class="cart-mask" bindtap="__e"></view></block><view class="cart-bar"><view data-event-opts="{{[['tap',[['toggleCart',['$event']]]]]}}" class="cart-info" bindtap="__e"><view class="{{['cart-icon',(totalQuantity>0)?'active':'']}}"><uni-icons vue-id="74b12534-7" type="cart" size="24" color="#FFFFFF" bind:__l="__l"></uni-icons><block wx:if="{{totalQuantity>0}}"><text class="cart-badge">{{totalQuantity}}</text></block></view><block wx:if="{{totalPrice>0}}"><view class="price-info"><text class="total-price">{{"¥"+$root.g1}}</text></view></block></view><view data-event-opts="{{[['tap',[['checkout',['$event']]]]]}}" class="{{['checkout-btn',(checkedPrice>0)?'active':'']}}" bindtap="__e"><text>{{checkedPrice>0?'去结算':'未选购商品'}}</text></view></view></view>