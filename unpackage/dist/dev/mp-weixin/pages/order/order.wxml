<view class="container"><view class="status-bar" style="{{'height:'+(statusBarHeight+'px')+';'}}"></view><view class="header"><text class="title">我的订单</text></view><view class="order-tabs"><block wx:for="{{tabs}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchTab',[index]]]]]}}" class="{{['tab-item',(currentTab===index)?'active':'']}}" bindtap="__e"><text>{{tab.name}}</text></view></block></view><scroll-view class="order-list" scroll-y="{{true}}"><block wx:if="{{$root.g0>0}}"><view><block wx:for="{{$root.l0}}" wx:for-item="order" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['viewOrderDetail',['$0'],[[['orderList','',index,'id']]]]]]]}}" class="order-item" bindtap="__e"><view class="order-header"><view class="shop-info"><uni-icons vue-id="{{'3c50aaa2-1-'+index}}" type="shop" size="16" color="#8B5A2B" bind:__l="__l"></uni-icons><text class="shop-name">奶茶小铺</text></view><text class="{{['order-status','status-'+order.$orig.status]}}">{{order.m0}}</text></view><view class="order-products"><block wx:for="{{order.$orig.orderItems}}" wx:for-item="product" wx:for-index="pIndex" wx:key="pIndex"><view class="product-item"><image class="product-image" src="{{product.product.image}}" mode="aspectFill"></image><view class="product-info"><text class="product-name">{{product.product.name}}</text><view class="product-specs"><block wx:for="{{product.specValues}}" wx:for-item="spec" wx:for-index="__i0__" wx:key="id"><text class="product-spec">{{spec.value}}</text></block></view></view><view class="product-price"><text class="price">{{"¥"+product.price}}</text><text class="count">{{"x"+product.quantity}}</text></view></view></block></view><view class="order-summary"><text class="order-time">{{order.m1}}</text><view class="order-total"><text class="total-count">{{"共"+order.m2+"件商品"}}</text><text class="total-price">{{"合计：¥"+order.$orig.totalAmount}}</text></view></view><view class="order-actions"><view class="action-btns"><block wx:if="{{order.$orig.status==='pending'}}"><button data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['orderList','',index,'id']]]]]]]}}" class="btn btn-cancel" catchtap="__e">取消订单</button></block><block wx:if="{{order.$orig.status==='pending'}}"><button data-event-opts="{{[['tap',[['payOrder',['$0'],[[['orderList','',index,'id']]]]]]]}}" class="btn btn-primary" catchtap="__e">去支付</button></block><block wx:if="{{order.$orig.status==='shipping'}}"><button data-event-opts="{{[['tap',[['confirmOrder',['$0'],[[['orderList','',index,'id']]]]]]]}}" class="btn btn-primary" catchtap="__e">确认收货</button></block><block wx:if="{{order.$orig.status==='completed'}}"><button data-event-opts="{{[['tap',[['viewOrderDetail',['$0'],[[['orderList','',index,'id']]]]]]]}}" class="btn btn-default" catchtap="__e">查看详情</button></block></view></view></view></block></view></block><block wx:else><view class="empty-order"><uni-icons vue-id="3c50aaa2-2" type="info" size="50" color="#CCCCCC" bind:__l="__l"></uni-icons><text class="empty-text">暂无相关订单</text></view></block></scroll-view></view>